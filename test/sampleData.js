'use strict';

module.exports = () => {
  let tweet0 = {
    created_at: 'Fri Jan 15 15:32:41 +0000 2016',
    id: 688020988429267000,
    id_str: '688020988429266948',
    text: 'Feature Request: iCloud Photo Library needs a purge downloads button à la Google Photos https://t.co/LATDJ6z7Em https://t.co/Kpr2A6ZwVI',
    source: '<a href="https://about.twitter.com/products/tweetdeck" rel="nofollow">TweetDeck</a>',
    truncated: false,
    in_reply_to_status_id: null,
    in_reply_to_status_id_str: null,
    in_reply_to_user_id: null,
    in_reply_to_user_id_str: null,
    in_reply_to_screen_name: null,
    user: {
      id: 15944436,
      id_str: '15944436',
      name: '9to5Mac ',
      screen_name: '9to5mac',
      location: 'Cupertino, California',
      description: 'We break Apple News. Tips@9to5mac.com http://t.co/08acwjc8Rl and http://t.co/0nnwbET9zQ for the best gear and deals.',
      url: 'http://t.co/TJfPn7EXwx',
      entities: {
        url: [Object],
        description: [Object]
      },
      protected: false,
      followers_count: 320051,
      friends_count: 13,
      listed_count: 11103,
      created_at: 'Fri Aug 22 13:06:35 +0000 2008',
      favourites_count: 205,
      utc_offset: -28800,
      time_zone: 'Pacific Time (US & Canada)',
      geo_enabled: true,
      verified: false,
      statuses_count: 37830,
      lang: 'en',
      contributors_enabled: false,
      is_translator: false,
      is_translation_enabled: false,
      profile_background_color: '636363',
      profile_background_image_url: 'http://abs.twimg.com/images/themes/theme9/bg.gif',
      profile_background_image_url_https: 'https://abs.twimg.com/images/themes/theme9/bg.gif',
      profile_background_tile: false,
      profile_image_url: 'http://pbs.twimg.com/profile_images/659486593649012736/-TGFT8rs_normal.png',
      profile_image_url_https: 'https://pbs.twimg.com/profile_images/659486593649012736/-TGFT8rs_normal.png',
      profile_link_color: '2FC2EF',
      profile_sidebar_border_color: '181A1E',
      profile_sidebar_fill_color: '252429',
      profile_text_color: '666666',
      profile_use_background_image: false,
      has_extended_profile: false,
      default_profile: false,
      default_profile_image: false,
      following: true,
      follow_request_sent: false,
      notifications: false
    },
    geo: null,
    coordinates: null,
    place: null,
    contributors: null,
    is_quote_status: false,
    retweet_count: 5,
    favorite_count: 7,
    entities: { hashtags: [],
  symbols: [],
  user_mentions: [],
  urls:
   [ { url: 'https://t.co/RH6ndZHLJy',
       expanded_url: 'http://overpassfont.org/',
       display_url: 'overpassfont.org',
       indices: [Object] } ] },
    favorited: false,
    retweeted: false,
    possibly_sensitive: false,
    possibly_sensitive_appealable: false,
    lang: 'en'
  };

  let tweet1 = { created_at: 'Sun Jan 17 12:21:04 +0000 2016',
  id: 688697543300091900,
  id_str: '688697543300091905',
  text: 'RT @Rygu: .@dan_abramov @yogthos Compose everything! https://t.co/lbMuTD9XqQ',
  source: '<a href="http://twitter.com/download/iphone" rel="nofollow">Twitter for iPhone</a>',
  truncated: false,
  in_reply_to_status_id: null,
  in_reply_to_status_id_str: null,
  in_reply_to_user_id: null,
  in_reply_to_user_id_str: null,
  in_reply_to_screen_name: null,
  user:
   { id: 70345946,
     id_str: '70345946',
     name: 'Dan Abramov',
     screen_name: 'dan_abramov',
     location: 'London, England',
     description: 'Making hot reloading mainstream. Created Redux, React Hot Loader, React DnD. Noob at @facebook. Opinions are my own.',
     url: 'https://t.co/60kty8djcd',
     entities: { url: [Object], description: [Object] },
     protected: false,
     followers_count: 16473,
     friends_count: 1350,
     listed_count: 612,
     created_at: 'Mon Aug 31 08:28:07 +0000 2009',
     favourites_count: 14296,
     utc_offset: 10800,
     time_zone: 'St. Petersburg',
     geo_enabled: false,
     verified: false,
     statuses_count: 16866,
     lang: 'en',
     contributors_enabled: false,
     is_translator: false,
     is_translation_enabled: false,
     profile_background_color: '000000',
     profile_background_image_url: 'http://abs.twimg.com/images/themes/theme1/bg.png',
     profile_background_image_url_https: 'https://abs.twimg.com/images/themes/theme1/bg.png',
     profile_background_tile: false,
     profile_image_url: 'http://pbs.twimg.com/profile_images/553711083064541184/9VsY9i09_normal.jpeg',
     profile_image_url_https: 'https://pbs.twimg.com/profile_images/553711083064541184/9VsY9i09_normal.jpeg',
     profile_banner_url: 'https://pbs.twimg.com/profile_banners/70345946/1448763055',
     profile_link_color: '000000',
     profile_sidebar_border_color: '000000',
     profile_sidebar_fill_color: '000000',
     profile_text_color: '000000',
     profile_use_background_image: false,
     has_extended_profile: false,
     default_profile: false,
     default_profile_image: false,
     following: true,
     follow_request_sent: false,
     notifications: false },
  geo: null,
  coordinates: null,
  place: null,
  contributors: null,
  retweeted_status:
   { created_at: 'Sun Jan 17 12:13:03 +0000 2016',
     id: 688695525676314600,
     id_str: '688695525676314624',
     text: '.@dan_abramov @yogthos Compose everything! https://t.co/lbMuTD9XqQ',
     source: '<a href="http://twitter.com/download/iphone" rel="nofollow">Twitter for iPhone</a>',
     truncated: false,
     in_reply_to_status_id: 688694426512797700,
     in_reply_to_status_id_str: '688694426512797696',
     in_reply_to_user_id: 70345946,
     in_reply_to_user_id_str: '70345946',
     in_reply_to_screen_name: 'dan_abramov',
     user:
      { id: 17324927,
        id_str: '17324927',
        name: 'Rick',
        screen_name: 'Rygu',
        location: 'Amsterdam',
        description: 'Full-spectrum tech producer at https://t.co/h3iwFe5AgN. We\'re the honest payment platform. Follow for technology.',
        url: 'https://t.co/XaeU5ak3sT',
        entities: [Object],
        protected: false,
        followers_count: 904,
        friends_count: 472,
        listed_count: 100,
        created_at: 'Tue Nov 11 23:06:44 +0000 2008',
        favourites_count: 3614,
        utc_offset: 3600,
        time_zone: 'Amsterdam',
        geo_enabled: true,
        verified: false,
        statuses_count: 3192,
        lang: 'en',
        contributors_enabled: false,
        is_translator: false,
        is_translation_enabled: false,
        profile_background_color: 'B2DFDA',
        profile_background_image_url: 'http://abs.twimg.com/images/themes/theme13/bg.gif',
        profile_background_image_url_https: 'https://abs.twimg.com/images/themes/theme13/bg.gif',
        profile_background_tile: false,
        profile_image_url: 'http://pbs.twimg.com/profile_images/551856174673313792/6k1ytRu-_normal.png',
        profile_image_url_https: 'https://pbs.twimg.com/profile_images/551856174673313792/6k1ytRu-_normal.png',
        profile_banner_url: 'https://pbs.twimg.com/profile_banners/17324927/1402748140',
        profile_link_color: '3B94D9',
        profile_sidebar_border_color: 'EEEEEE',
        profile_sidebar_fill_color: 'FFFFFF',
        profile_text_color: '333333',
        profile_use_background_image: true,
        has_extended_profile: false,
        default_profile: false,
        default_profile_image: false,
        following: false,
        follow_request_sent: false,
        notifications: false },
     geo: null,
     coordinates: null,
     place: null,
     contributors: null,
     is_quote_status: false,
     retweet_count: 1,
     favorite_count: 0,
     entities:
      { hashtags: [],
        symbols: [],
        user_mentions: [Object],
        urls: [],
        media: [Object] },
     extended_entities: { media: [Object] },
     favorited: false,
     retweeted: false,
     possibly_sensitive: false,
     possibly_sensitive_appealable: false,
     lang: 'en' },
  is_quote_status: false,
  retweet_count: 1,
  favorite_count: 0,
  entities:
   { hashtags: [],
     symbols: [],
     user_mentions: [ [Object], [Object], [Object] ],
     urls: [],
     media:
   [ { id: 688558631776849900,
       id_str: '688558631776849921',
       indices: [Object],
       media_url: 'http://pbs.twimg.com/ext_tw_video_thumb/688558631776849921/pu/img/4XxyKIrGJ1DacoX5.jpg',
       media_url_https: 'https://pbs.twimg.com/ext_tw_video_thumb/688558631776849921/pu/img/4XxyKIrGJ1DacoX5.jpg',
       url: 'https://t.co/ueYWB1SGel',
       display_url: 'pic.twitter.com/ueYWB1SGel',
       expanded_url: 'http://twitter.com/Crashingtv/status/688559279993974784/video/1',
       type: 'photo',
       sizes: [Object],
       source_status_id: 688559279993974800,
       source_status_id_str: '688559279993974784',
       source_user_id: 3094874199,
       source_user_id_str: '3094874199' } ] },
  extended_entities: { media: [ [Object] ] },
  favorited: false,
  retweeted: false,
  possibly_sensitive: false,
  possibly_sensitive_appealable: false,
  lang: 'en' };

let convert4digitNumber = ( number ) => {
  let stringNumber = String( number );
  let splitString = stringNumber.split('');
  let resultString = '';
  let numberCount = splitString.length;

  switch ( numberCount ) {
    case 4:
      resultString = `${ splitString[0] }.${ splitString[1] }K`;
      break ;
    case 5:
      resultString = `${ splitString[0]+splitString[1] }.${ splitString[2] }K`;
      break;
    case 6:
      resultString = `${ splitString[0]+splitString[1]+splitString[2] }K`;
      break;
    case 7:
      resultString = `${ splitString[0] }.${ splitString[1]+splitString[2] }M`;
      break;
    default:
      resultString = stringNumber;
  }
  return resultString;
};

let getRandomValues = ( arrayLength ) => {
  let resultValue = Math.floor( Math.random() * ( arrayLength - 0) + 0 );
  return resultValue;
};

let isRetweeted = ( tweet ) => {

  function checkChartAt( item, charPosition, charSearch) {
    return item.text.charAt( charPosition ) === charSearch;
  }
  return ( checkChartAt( tweet, 0, 'R' ) && checkChartAt( tweet, 1, 'T' ) ) ? true : false;
};

let hasTweetImage = ( tweet ) => {
  if ( tweet.entities.hasOwnProperty( 'media' ) ) {
    return tweet.entities.media[0].media_url;
  }
  return 'no image';
};

let splitTweetText = ( tweet, pattern ) => {
    return tweet.split( pattern ).pop();
};

let splitConcatString = ( tweetText ) => {
  let splitString = tweetText.split( ' ' );
  let concatString;

  splitString.map( ( el, index, array ) => {

    if ( el.indexOf( '@' ) !== -1 ) {
      if ( el.length > 1) {
        let tweetMention = array[index];
        array[index] = `<span class="tweetMention">${ tweetMention }</span>`;
        concatString = array;
      }
    }
  });
  if ( typeof concatString !== 'undefined' ) {
    return concatString.join( ' ' );
  } else {
    return splitString.join( ' ' );
  }
};

  return {
    tweet0: tweet0,
    tweet1: tweet1,
    convert4digitNumber: convert4digitNumber,
    getRandomValues:getRandomValues,
    isRetweeted: isRetweeted,
    hasTweetImage: hasTweetImage,
    splitTweetText: splitTweetText,
    splitConcatString: splitConcatString,
  };
};
